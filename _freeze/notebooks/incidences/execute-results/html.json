{
  "hash": "84470c606a4722ea48d33be60106e402",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"incidences\"\neditor: visual\nformat: html\n---\n\n\n\n## Quarto\n\nQuarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see <https://quarto.org>.\n\n## Running Code\n\nWhen you click the **Render** button a document will be generated that includes both content and the output of embedded code. You can embed code like this:\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n1 + 1\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 2\n```\n\n\n:::\n:::\n\n\n\nYou can add options to executable code like this\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n#| echo: false\n2 * 2\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 4\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n#| label: load-pkgs\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'ggplot2' was built under R version 4.2.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'tidyr' was built under R version 4.2.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'readr' was built under R version 4.2.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'purrr' was built under R version 4.2.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'dplyr' was built under R version 4.2.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'stringr' was built under R version 4.2.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'lubridate' was built under R version 4.2.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\n── Attaching core tidyverse packages ─────────────────── tidyverse 2.0.0.9000 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.0     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n#| label: load-pkgs\nlibrary(medicaldata)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'medicaldata' was built under R version 4.2.3\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n#| label: load-pkgs\nlibrary(patchwork)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'patchwork' was built under R version 4.2.3\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n#| label: load-pkgs\n# data(package = \"medicaldata\")\ndata(indo_rct)\n```\n:::\n\n::: {#cell-fig-incidences-adverse-events .cell}\n\n```{.r .cell-code .hidden}\n#| label: fig-incidences-adverse-events\n#| fig-cap: Incidence of the Primary and Secondary End Points and Adverse Events\n#| fig-width: 4\n#| fig-asp: 0.681\n\n# A - moderate to severe missing\nplot_a <- indo_rct |> \n  count(rx, outcome) |>\n  group_by(rx) |>\n  mutate(p = n / sum(n)) |>\n  filter(outcome == \"1_yes\") |>\n  ungroup() |>\n  mutate(\n    rx = case_match(\n      rx, \n      \"0_placebo\" ~ \"Placebo\",\n      \"1_indomethacin\" ~ \"Indomethacin\"\n    ),\n    rx = fct_relevel(rx, \"Placebo\", \"Indomethacin\"),\n    p = p*100\n  ) |>\n  ggplot(aes(x = rx, y = p, fill = rx)) +\n  geom_col(color = \"black\") +\n  scale_fill_manual(\n    values = c(\n      \"Placebo\" = \"azure2\", \n      \"Indomethacin\" =  \"deepskyblue4\"\n    )\n  ) + \n  theme_classic() +\n  theme(\n    legend.position = \"top\",\n    axis.text.x = element_blank(),\n    axis.ticks.x = element_blank()\n  ) +\n  ylim(0, 20) +\n  labs(\n    x = \"All Post-ERCP\\nPancreatitis\",\n    y = \"Patients (%)\",\n    fill = NULL\n  )\n\n# renal failure missing\nplot_b <- indo_rct |>\n  filter(bleed == 1) |>\n  mutate(\n    rx = case_match(\n      rx, \n      \"0_placebo\" ~ \"Placebo\",\n      \"1_indomethacin\" ~ \"Indomethacin\"\n      ),\n    rx = fct_relevel(rx, \"Placebo\", \"Indomethacin\")\n  ) |>\n  count(rx, bleed) |>\n  ggplot(aes(x = rx, y = n, fill = rx)) +\n  geom_col(color = \"black\") +\n  scale_fill_manual(\n    values = c(\n      \"Placebo\" = \"azure2\", \n      \"Indomethacin\" =  \"deepskyblue4\"\n    )\n  ) + \n  theme_classic() +\n  theme(\n    legend.position = \"top\",\n    axis.text.x = element_blank(),\n    axis.ticks.x = element_blank()\n  ) +\n  ylim(0, 8) +\n  labs(\n    x = \"Gastrointestinal\\nBleeding\",\n    y = \"No. of Adverse Events\",\n    fill = NULL\n  )\n\nplot_a + plot_b\n```\n\n::: {.cell-output-display}\n![Incidence of the Primary and Secondary End Points and Adverse Events](incidences_files/figure-html/fig-incidences-adverse-events-1.png){#fig-incidences-adverse-events width=384}\n:::\n:::\n",
    "supporting": [
      "incidences_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}